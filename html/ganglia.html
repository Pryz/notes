<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.7" />
<title>Ganglia</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
<script type="text/javascript" src="http://code.jquery.com/jquery.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<link rel="stylesheet" href="css/pygments.css" type="text/css">
<style type="text/css">
a:link {
        text-decoration:none !important;
            color:#1C1C1C !important;
}
a:link:hover {
        text-decoration:underline !important;
}
.sort {
        margin:0 0 10px 15px;
}
</style>
<script type="text/javascript">
</script>
</head>
<body >
<div class="container">
<h1>
Ganglia
</h1>
<div id="preamble">
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
gmond : daemon running on all monitored nodes.
</p>
</li>
<li>
<p>
gmetad : run on only master. Collects data from gmond instances.
</p>
</li>
<li>
<p>
head node : "bridge" for group nodes.
</p>
</li>
<li>
<p>
GMOND: sender &#8658; collect metrics
</p>
<div class="ulist"><ul>
<li>
<p>
receiver &#8658; aggregate all metrics send from other hosts
</p>
</li>
<li>
<p>
keep an in memory cached of all metrics
</p>
</li>
</ul></div>
</li>
<li>
<p>
GMETAD: pools gmonds and stores metrics to RRD files
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_generate_default_configuration_if_not_present">Generate default configuration if not present</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content"><div class="highlight"><pre>gmond --default_config &gt; /etc/gmond.conf
</pre></div></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_classic_node_configuration">Classic node configuration</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content"><div class="highlight"><pre>cluster <span class="o">{</span>
    <span class="nv">name</span> <span class="o">=</span> <span class="s2">&quot;cluster1&quot;</span>
<span class="o">}</span>

udp_send_channel <span class="o">{</span>
    <span class="nv">host</span> <span class="o">=</span> head_node1
    <span class="nv">port</span> <span class="o">=</span> 8649
<span class="o">}</span>

tcp_accept_channel <span class="o">{</span>
    <span class="nv">port</span> <span class="o">=</span> 8649
<span class="o">}</span>

<span class="c"># to comment : multicast and udp_recv_channel</span>
</pre></div></div></div>
<div class="ulist"><ul>
<li>
<p>
gmond.conf
</p>
<div class="ulist"><ul>
<li>
<p>
cluster:name = clustername
</p>
</li>
<li>
<p>
udp_send_channel:host = 10.2.3.36 + :port = 8649
</p>
</li>
<li>
<p>
udp_recv_channel:empty
</p>
</li>
<li>
<p>
tcp_accept_channel:port = 8649
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_head_node_configuration">Head node configuration</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content"><div class="highlight"><pre>cluster <span class="o">{</span>
    <span class="nv">name</span> <span class="o">=</span> <span class="s2">&quot;cluster1&quot;</span>
<span class="o">}</span>

udp_recv_channel <span class="o">{</span>
    <span class="nv">port</span> <span class="o">=</span> 8649
<span class="o">}</span>

tcp_accept_channel <span class="o">{</span>
    <span class="nv">port</span> <span class="o">=</span> 8649
<span class="o">}</span>

<span class="c"># to comment : multicast and udp_send_channel</span>
</pre></div></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_master">Master</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
gmond.conf
</p>
<div class="ulist"><ul>
<li>
<p>
cluster:name = clustername
</p>
</li>
<li>
<p>
udp_send_channel:host = 10.2.3.36 + :port = 8649
</p>
</li>
<li>
<p>
udp_recv_channel:host = 10.2.3.36 + :port = 8649
</p>
</li>
<li>
<p>
tcp_accept_channel:port = 8649
</p>
</li>
</ul></div>
</li>
<li>
<p>
gmetad.conf
</p>
<div class="ulist"><ul>
<li>
<p>
data_source "clustername" 12.2.3.36
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>
